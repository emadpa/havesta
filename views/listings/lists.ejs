
<% layout('layouts/boilerplate') %>


    
  <div id="filters"  >
     <div class="filter">
        <div style="text-align: center;"><i class="fa-solid fa-fire"></i></div>
         <p>Trending</p>
      </div>
      <div class="filter">
         <div style="text-align: center;"><i class="fa-solid fa-bed"></i></div>
         <p>Rooms</p>
      </div>
      <div class="filter">
       <div style="text-align: center;"><i class="fa-solid fa-city"></i></i></div>
         <p>Iconic cities</p>
      </div>
     
      <div class="filter">
         <div style="text-align: center;"><i class="fa-solid fa-mountain"></i></div>
         <p>mountains</p>
      </div>
       <div class="filter">
         <div style="text-align: center;"><i class="fa-solid fa-person-swimming"></i></div>
         <p>Amazing pools</p>
       </div>
        <div class="filter">
         <div style="text-align: center;"><i class="fa-solid fa-campground"></i></div>
         <p>Camping</p>
      </div>
       <div class="filter">
         <div style="text-align: center;"><i class="fa-solid fa-cow"></i></div>
         <p>Farms</p>
       </div>
        <div class="filter">
         <div style="text-align: center;"><i class="fa-solid fa-snowflake"></i></div>
         <p>Artic</p>
       </div>
        <div class="filter">
         <div style="text-align: center;"><i class="fa-solid fa-landmark-dome"></i></div>
         <p>Dome</p>
       </div>
       <div class="formcheck">
         <div class="form-check-reverse form-switch">
            <input class="form-check-input" type="checkbox" role="switch" id="switchCheckDefault">
            <label class="form-check-label" for="switchCheckDefault" >Display total after taxes</label>
         </div>
      </div>
  </div>

   <div class="row row-cols-md-3 row-cols-lg-4 row-cols-sm-1 g-3">
  <% if(listings.length === 0){ %>
    <div class="col-12 text-center my-4">
      <p>No listings found for "<%= q || 'all' %>"</p>
    </div>
  <% } %>

  <% listings.forEach(list => { %>
    <div class="col" style="border:none;"> 
      <a href="/api/list/<%= list._id %>" style="text-decoration:none;">
        <div class="card h-100 listing-card">
          <img src="<%= list.image?.url || '/images/default.jpg' %>" class="card-img-top" alt="<%= list.title %>">
          <div class="card-img-overlay"></div>
          <div class="card-body mb-0" style="width: 100%;">
            <h5 class="card-title"><%= list.title %></h5>
            <p class="card-text listing-card-text" style="white-space: nowrap;">
              <span class="price">
                <%= list.price.toLocaleString('en-IN', { style: 'currency', currency: 'INR' }) %>/night
              </span>
              &nbsp;&nbsp;<span style="font-weight: normal; font-size:1rem;" class="tax">+18% GST</span>
            </p>
          </div>
        </div>
      </a>
    </div>
  <% }) %>
</div>




    <script>
       let formswitch=document.querySelector(".form-check-input");

       formswitch.addEventListener("click",()=>{

          let taxtags=document.querySelectorAll(".tax");
     
            for(taxtag of taxtags){
               if(taxtag.style.display != "inline"){
                  taxtag.style.display="inline";
               }else{
                     taxtag.style.display="none";
               }
            }
       })
      

    </script>

